<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>Abator Generated SQL Map Files</title>
</head>
<body>
<h1>Abator Generated SQL Map Files</h1>
<p>Abator generates SQL Map files that conform to iBATIS' SQL Map DTD.  The files contain many different
elements based on the characterisitcs of the table, and on the configuration options you specify.
Abator generates a different SQL Map file for every table you specify.  The namespace of the
SQL Map is the name of the table (qualified by schema and catalog if present).  Abator does not
add the SQL Map entries to the iBATIS SQLMapConfig file - you must do that manually.</p>

<p>Every element generated by Abator has an id that is prefixed with the string <code>"abatorgenerated_"
</code>.  On subsequent runs of Abator, every element with an id whose prefix is 
<code>"abatorgenerated_"</code>
will be deleted and replaced.  Any other element in the SQL Map will be untouched by Abator.
With this in mind, you can add other elements to the file without fear of losing them in 
subsequent runs of Abator - simply give your custom elements an id that DOES NOT start with
<code>"abatorgenerated_"</code>.</p>
<p>The following sections describe the elements that will be generated by Abator.</p>

<p>Note: in the following descriptions, the term "BLOB" is used to refer to any column
with a data type of BLOB, CLOB, LONGVARCHAR, or LONGVARBINARY.</p>

<h2>Result Map</h2>
<p>This element is used to map table columns to properties of the generated Java model object.
The result map (and corresponding select statements) will not contain:</p>
<ul>
  <li>Any field that has been ignored by the <code>&lt;ignoreColumn&gt;</code> configuration element</li>
  <li>Any BLOB field from the table (see the result map with BLOBs element)</li>
</ul>
<p>The columns will be mapped according the configuration element <code>&lt;columnOverride&gt;</code> if it exists
for the specific column.  If the override does not exist, then a default property name and JDBC type
will be used.</p>
<p>It is acceptable to extend this result map if you code any
custom join queries in the SQL map.  This is a common use case and is expected.</p>
<p>This element will be generated if either the select by example, or select by primary key statements
are enabled.</p>

<h2>Result Map With BLOBs</h2>
<p>The element extends the base result map, and adds any BLOB fields that exist in the table.
We do this because we offer different versions of the select by example statement depending on
whether or not you want to return the BLOB fields in those queries.</p>

<p>The result map (and corresponding select statements) will not contain:</p>
<ul>
  <li>Any field that has been ignored by the <code>&lt;ignoreColumn&gt;</code> configuration element</li>
</ul>
<p>The columns will be mapped according the configuration element <code>&lt;columnOverride&gt;</code> if it exists
for the specific column.  If the override does not exist, then a default property name and JDBC type
will be used.</p>
<p>It is acceptable to extend this result map if you code any
custom join queries in the SQL map.  This is a common use case and is expected.</p>
<p>This element will be generated if that table contains BLOB fields, and either the select by example,
or select by primary key statements are enabled.</p>

<h2>SQL Where Clause</h2>
<p>This element contains a reusable where clause that conforms to the "by example" methods. The
where clause will not include any BLOB fields if they exist in the table.  Most databases do not
support BLOB fields in the WHERE clause.</p>
<p>This element will be generated if either the select by example, or delete by example statements
are enabled.</p>

<h2>Select By Primary Key</h2>
<p>This element contains a select statement that will return one row - designated by the primary key.
The returned row will include BLOB fields if they exist in the table.</p>
<p>This element will be generated if the table has a primary key and the select by primary key statement
is enabled.</p>

<h2>Select by Example</h2>
<p>This element contains a select statement with rows that match the example object.
This implements a simple "query by example" functionality that can be used to generate many
different database queries.  The returned rows will not include any BLOB fields that exist in the table
(see the select by example with BLOBs stamenet below).</p>
<p>This element will be generated if the select by example statement is enabled.</p>

<h2>Select by Example With BLOBs</h2>
<p>This element contains a select statement with rows that match the example object.
This implements a simple "query by example" functionality that can be used to generate many
different database queries.  The returned rows will include any BLOB fields that exist in the table.</p>
<p>This element will be generated if the table contains BLOB fields, and the select by example
 statement is enabled.</p>

<h2>Insert</h2>
<p>This element is an insert statament that includes all fields in the table (including BLOBs),
unless the field is specifically ignored with the <code>&lt;ignoreColumn&gt;</code> configuration
element.</p>
<p>If the table has an auto generated key (an identity column or from a sequence), and the
<code>&lt;generatedKey&gt;</code> configuration element is specified, then Abator will generate
an appropriate <code>&lt;selectKey&gt;</code> element and will return the value of the
generated key.</p>
<p>This element will be generated if the insert statement is enabled.</p>

<h2>Update By Primary Key</h2>
<p>This element is an update stament that will update one row - designated by the primary
key.  The update statement will update all fields in the table unless:</p>
<ul>
  <li>The field has been ignored by the <code>&lt;ignoreColumn&gt;</code> configuration element</li>
  <li>The field is a BLOB field (see the update by primary key with BLOBs element)</li>
</ul>
<p>This element will be generated if the table has a primary key, and the update by primary
key statement is enabled.</p>

<h2>Update By Primary Key With BLOBs</h2>
<p>This element is an update stament that will update one row - designated by the primary
key.  The update statement will update all fields in the table (including BLOB fields) unless:</p>
<ul>
  <li>The field has been ignored by the <code>&lt;ignoreColumn&gt;</code> configuration element</li>
</ul>
<p>This element will be generated if the table has a primary key, the table has BLOB columns,
 and the update by primary key statement is enabled.</p>

<h2>Delete By Primary Key</h2>
<p>This element is a delete statement that will delete one row in the table - designated by the 
primary key.<p>
<p>This element will be generated if the table has a primary key, and the delete by primary key
 statement is enabled.</p>

<h2>Delete By Example</h2>
<p>This element is a delete statement that will delete one or more rows in the table - designated by
the the example object.<p>
<p>This element will be generated if the delete by example statement is enabled.</p>
</body>
</html>
