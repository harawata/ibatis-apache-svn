<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>The &lt;generatedKey&gt; Element</title>
  <link type="text/css" rel="stylesheet" href="../abator.css"/>
</head>
<body>
<h1>The &lt;generatedKey&gt; Element</h1>
<p>The &lt;generatedKey&gt; element is used to specify properties for
auto generated keys (from identity field or sequences).  If you specify this
element, Abator will generate an appropriate &lt;selectKey&gt; element inside the
generated &lt;insert&gt; element in the SQL map.  This element is an optional child
element of the <a href="table.html">&lt;table&gt;</a> element.</p>

<h2>Required Attributes</h2>
<table border="1" cellspacing="0" cellpadding="5">
  <tr>
    <th>Attribute</th>
    <th>Description</th>
  </tr>
  <tr>
    <td>column</td>
    <td>The column name of the generated column.</td>
  </tr>
  <tr>
    <td valign="top">sqlStatement</td>
    <td>The SQL statement that will return the new value.  If this is
        an identity column, then you can use one of the predefined
        special values, or substitute the proper statement for your database.
        The predefined special values are as follows:
          <table>
            <tr>
              <th>Cloudscape</th>
              <td>This will translate to <code>VALUES IDENTITY_VAL_LOCAL()</code></td>
            </tr>
            <tr>
              <th>DB2</th>
              <td>This will translate to <code>VALUES IDENTITY_VAL_LOCAL()</code></td>
            </tr>
            <tr>
              <th>Derby</th>
              <td>This will translate to <code>VALUES IDENTITY_VAL_LOCAL()</code></td>
            </tr>
            <tr>
              <th>HSQLDB</th>
              <td>This will translate to <code>CALL IDENTITY()</code></td>
            </tr>
            <tr>
              <th>MySql</th>
              <td>This will translate to <code>SELECT LAST_INSERT_ID()</code></td>
            </tr>
            <tr>
              <th>SqlServer</th>
              <td>This will translate to <code>SELECT SCOPE_IDENTITY()</code></td>
            </tr>
          </table>
        </td>
  </tr>
  <tr>
    <td>identity</td>
    <td>If <code>true</code>, then the generated <code>&lt;selectKey&gt;</code> element will be placed
        after the insert (for an identity column).  If <code>false</code>, then
        the generated <code>&lt;selectKey&gt;</code> will be placed before the insert
        (typically for a sequence).</td>
  </tr>
</table>

<h2>Optional Attributes</h2>
<p>None</p>

<h2>Child Elements</h2>
<p>None</p>

</body>
</html>
