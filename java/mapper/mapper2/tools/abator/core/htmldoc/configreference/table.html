<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>The &lt;table&gt; Element</title>
  <link type="text/css" rel="stylesheet" href="../abator.css"/>
</head>
<body>
<h1>The &lt;table&gt; Element</h1>
<p>The &lt;table&gt; element is used to select a table in the database for
introspection.  Selected tables will cause the following objects to be generated
for each table:</p>
<ul>
  <li>An iBATIS formatted SQL Map file</li>
  <li>A set of classes that form the "model" of the table including:
    <ul>
      <li>A class to match the primary key of the table (if the table
          has a primary key).</li>
      <li>A class to match the fields in the table that are not in the
          primary key, and non BLOB fields.  This class will extend the
          primary key if there is one.</li>
      <li>A class to hold any BLOB fields in the table, if there are any.
          This class will extend one of the two previous classes depending on the
          configuration of the table.</li>
      <li>A class that is used to generate dynamic where clauses in the
          different "by example" methods (selectByExample, deleteByExample).
          This class may, or may not, extend one of the other model classes
          depending on the current generator set and the structure of the table.</li>
    </ul>
  </li>
  <li>(Optionally) A DAO interface and class</li>
</ul>
<p>At least one &lt;table&gt; element must be specified as a required child element
of the <a href="abatorContext.html">&lt;abatorContext&gt;</a> element.
You can specify unlimited table elements.</p>
<h2>Required Attributes</h2>
<table border="1" cellspacing="0" cellpadding="5">
  <tr>
    <th>Attribute</th>
    <th>Description</th>
  </tr>
  <tr>
    <td valign="top">tableName</td>
    <td>The name of the database table (not including the schema or catalog).
      The specified value can contain SQL wildcards if so desired.
    </td>
  </tr>
</table>

<h2>Optional Attributes</h2>
<table border="1" cellspacing="0" cellpadding="5">
  <tr>
    <th>Attribute</th>
    <th>Description</th>
  </tr>
  <tr>
    <td valign="top">schema</td>
    <td>The database schema - not required if your database does not use schemas,
        or if there is a default schema.
      The specified value can contain SQL wildcards if so desired.
    </td>
  </tr>
  <tr>
    <td>catalog</td>
    <td>The database catalog - not required if your database does not use catalogs,
        or if there is a default catalog.</td>
  </tr>
  <tr>
    <td>alias</td>
    <td>If specified, this value will be used to alias the table and all column names in
        any generated SQL select statement.  Column names will be aliased with the pattern
        alias_actualColumnName.</td>
  </tr>
  <tr>
    <td>domainObjectName</td>
    <td>The base name from which generated object names will be generated.
        If not specified, Abator will generate a name automatically based on
        the tableName.  The name (either specified here, or generated
        automatically) will be used to compute generated domain class names
        and DAO class names.</td>
  </tr>
  <tr>
    <td>enableInsert</td>
    <td>Signifies whether an insert statement should be generated (the default is true).</td>
  </tr>
  <tr>
    <td>enableSelectByPrimaryKey</td>
    <td>Signifies whether a select by primary key statement should be generated (the default is true).
        Regardless of this setting, the statement will not be generated if the
        table does not have a primary key.</td>
  </tr>
  <tr>
    <td>enableSelectByExample</td>
    <td>Signifies whether a select by example statement should be generated (the default is true).
        This statement enables many different dynamic queries to be generated at run time.</td>
  </tr>
  <tr>
    <td>enableUpdateByPrimaryKey</td>
    <td>Signifies whether an update by primary key statement should be generated (the default is true).
        Regardless of this setting, the statement will not be generated if the
        table does not have a primary key.</td>
  </tr>
  <tr>
    <td>enableDeleteByPrimaryKey</td>
    <td>Signifies whether an delete by primary key statement should be generated (the default is true).
        Regardless of this setting, the statement will not be generated if the
        table does not have a primary key.</td>
  </tr>
  <tr>
    <td>enableDeleteByExample</td>
    <td>Signifies whether a delete by example statement should be generated (the default is true).
        This statement enables many different dynamic deletes to be generated at run time.</td>
  </tr>
  <tr>
    <td>selectByPrimaryKeyQueryId</td>
    <td>This value will be added to the select list of the select by primary key statement
        in this form: "'&lt;value&gt;' as QUERYID".
        This can be useful for identifying queries in DBA tracing tools at run time.
        If you use thus value, you should specify a unique id for every different query
        generated by Abator.</td>
  </tr>
  <tr>
    <td>selectByExampleQueryId</td>
    <td>This value will be added to the select list of the select by example statement
        in this form: "'&lt;value&gt;' as QUERYID".
        This can be useful for identifying queries in DBA tracing tools at run time.
        If you use thus value, you should specify a unique id for every different query
        generated by Abator.</td>
  </tr>
  <tr>
    <td valign="top">modelType</td>
    <td>
      This property is used to override the default model type if you desire
      to do so for this table.  If not specified, Abator will generate domain
      objects based on the context default model type.
      The model type defines how Abator will generate domain classes.  With some
      model types Abator will generate a single domain class for each table,
      with others Abator may generate different classes depending on the structure
      of the table.  The property supports these values:
      <table>
        <tr>
          <th valign="top">conditional</th>
          <td>This model is similar to the hierarchical model except that a separate
              class will not be generated if that separate class would only contain
              one field.  So if a table has only one primary key field, that field
              will be merged into the base record class.</td>
        </tr>
        <tr>
          <th valign="top">flat</th>
          <td>This model generates only one domain class for any table.  The class
              will hold all fields in the table.</td>
        </tr>
        <tr>
          <th valign="top">hierarchical</th>
          <td>This model is the same as the model shipped with the initial versions
              of Abator.  This model will generate a primary key class if the table has
              a primary key, another class that holds any BLOB columns in the table, and
              another class that holds the remaining fields.  There is an appropriate
              inheritance relationship between the classes.</td>
        </tr>
      </table>
    </td>
  </tr>
</table>

<h2>Child Elements</h2>
<ul>
  <li><a href="property.html">&lt;property&gt;</a> (0..N)</li>
  <li><a href="generatedKey.html">&lt;generatedKey&gt;</a> (0 or 1)</li>
  <li><a href="columnOverride.html">&lt;columnOverride&gt;</a> (0..N)</li>
  <li><a href="ignoreColumn.html">&lt;ignoreColumn&gt;</a> (0..N)</li>
</ul>

<h2>Supported Properties</h2>
<p>This table lists the properties of the default SQL Map generators that can be
specified with the <a href="property.html">&lt;property&gt;</a> child element:</p>
<table border="1" cellspacing="0" cellpadding="5">
  <tr>
    <th>Property Name</th>
    <th>Property Values</th>
  </tr>
  <tr>
    <td valign="top">useActualColumnNames</td>
    <td>If true, then
        Abator will use column names as returned from the database metadata as the properties
        of the generated domain objects.  If false (default), Abator will attempt to camel
        case the returned names.  In either event, the name can be specified explicitly by the
        &lt;columnOverride&gt; element in which case this property will be ignored for the
        specified column.
        <p>For example, suppose a table contains a column START_DATE.  If the value of
        this property is "true", then Abator will generate the property name
        as <code>START_DATE</code> - meaning that the getters and setters for the value will be
        <code>getSTART_DATE()</code> and <code>setSTART_DATE()</code>.
        If the value of this property is false, then Abator will
        generate the property name as <code>startDate</code> - meaning that the
        getters and setters for the value will be <code>getStartDate()</code> and
        <code>setStartDate()</code>.</p>
        <p><i>The default value is false.</i></p></td>
  </tr>
</table>

<h2>Example</h2>
<p>This element specifies that we always want to generate code for
a table called MYTABLE in schema MYSCHEMA.  We also want to ignore
a column called "fred" in the table, and we want to override the
column "BEG_DATE" so that the generated property name will be "startDate".</p>
<pre>
&lt;table tableName="MYTABLE" schema="MYSCHEMA"&gt;
  &lt;ignoreColumn column="fred"/&gt;
  &lt;columnOverride column="BEG_DATE" property="startDate"/&gt;
&lt;/table&gt;
</pre>

</body>
</html>
