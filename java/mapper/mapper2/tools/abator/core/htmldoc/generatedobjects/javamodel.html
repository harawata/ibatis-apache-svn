<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
  <title>Abator Generated Java Model Classes</title>
  <link type="text/css" rel="stylesheet" href="../abator.css"/>
</head>
<body>
<h1>Abator Generated Java Model Classes</h1>
<p>Abator generates Java classes that correspond to the fields in a database table.
The generated classes are a type of domain object, but should in no way be confused
with a rich domain model (see the <a href="../philosophy.html">Philosophy</a> page
for more on this subject).  Abator generates different types of "domain" objects based on
the characteristics of the table.</p>

<p>Every field and method generated by Abator includes the non-standard JavaDoc tag
<code>@abatorgenerated</code>.  When run as an Eclipse plugin,
on subsequent runs of Abator every field and method that
includes this JavaDoc tag will be deleted and replaced.  Any other field or method in the
class will be untouched by Abator.
With this in mind, you can add other fields and methods to the classes without fear of losing them in
subsequent runs of Abator - simply DO NOT include the <code>@abatorgenerated</code>
JavaDoc tag on anything that you add to the class.</p>
<p>Outside of the Eclipse plugin, Java files need to be merged by hand, but you can use the
<code>@abatorgenerated</code> JavaDoc tag to know what is safe to delete from a prior
version of a file.</p>
<p>The following sections describe the different types of "domain" classes that will be
generated by Abator.</p>

<p>Any column ignored by an <code>&lt;ignoreColumn&gt;</code> configuration element will
by ignored and not added to any generated Java class.</p>

<p>Note: in the following descriptions, the term "BLOB" is used to refer to any column
with a data type of BLOB, CLOB, LONGVARCHAR, or LONGVARBINARY.</p>

<h2>Primary Key Class</h2>
<p>This class will contain properties for each field in the primary key of a table.
The property names will be generated automatically by Abator, and based on the column name
in the table.  The abator generated property names can be overridden with a
<code>&lt;columnOverride&gt;</code> configuration element.
</p>
<p>The name of the class will be <code>&laquo;TableName&raquo;Key</code> by default, or
<code>&laquo;domainObjectName&raquo;Key</code> if the <code>domainObjectName</code>
attribute is specified on the <code>&lt;table&gt;</code> configuration element.</p>

<p>This class will be generated if the table has a primary key.</p>

<h2>Record Class</h2>
<p>This class will contain properties for each non-BLOB and non-primary key column in the table.
The class will extend the primary key class, if there is a primary key.
The property names will be generated automatically by Abator, and based on the column name
in the table.  The abator generated property names can be overridden with a
<code>&lt;columnOverride&gt;</code> configuration element.</p>

<p>The name of the class will be <code>&laquo;TableName&raquo;</code> by default, or
<code>&laquo;domainObjectName&raquo;</code> if the <code>domainObjectName</code>
attribute is specified on the <code>&lt;table&gt;</code> configuration element.</p>

<p>This class will be generated if the table has non-BLOB and non-primary key columns.</p>

<h2>Record With BLOBs Class</h2>
<p>This class will contain properties for each BLOB column in the table.
The class will extend the record class, if there are other non-BLOB and non-Primary Key
columns in the table, else it will extend the primary key (note that Abator does not support
tables that only contain BLOB columns).
The property names will be generated automatically by Abator, and based on the column name
in the table.  The abator generated property names can be overridden with a
<code>&lt;columnOverride&gt;</code> configuration element.</p>

<p>This class will be the return value from the <code>selectByPrimaryKey</code> method,
or the <code>selectByExampleWithBLOBs</code> method.</p>

<p>The name of the class will be <code>&laquo;TableName&raquo;WithBLOBs</code> by default, or
<code>&laquo;domainObjectName&raquo;WithBLOBs</code> if the <code>domainObjectName</code>
attribute is specified on the <code>&lt;table&gt;</code> configuration element.</p>

<p>This class will be generated if the table has any BLOB columns.</p>

<h2>Example Class</h2>
<p>This class is used to specify "query by example" indicators for the
<code>selectByExample</code>,
<code>selectByExampleWithBLOBs</code>, and
<code>deleteByExample</code> methods.
This class may or may not extend one of the other generated domain classes based on the
table configuration, and the value of the <code>generatorSet</code>
attribute of the <a href="../configreference/abatorContext.html">&lt;abatorContext&gt;</a>
configuration element.</p>

<p>The name of the class will be <code>&laquo;TableName&raquo;Example</code> by default, or
<code>&laquo;domainObjectName&raquo;Example</code> if the <code>domainObjectName</code>
attribute is specified on the <code>&lt;table&gt;</code> configuration element.</p>

<p>This class will be generated if the <code>selectByExample</code> or <code>deleteByExample</code>
methods are enabled.</p>

<h2>Example Class Usage Notes</h2>
<p>Using the example class is different depending on the value of the
<code>generatorSet</code>
attribute of the <a href="../configreference/abatorContext.html">&lt;abatorContext&gt;</a>
configuration element.</p>

<p>The example class specifies how to build a dynamic where clause.  Each non-BLOB column in the
can optionally be included in the where clause, and several different operators are available
to specify how the different query constraints should work.  Examples are the best way
to demonstrate the usage of this class.</p>
<h3>Using the example Class with the Legacy Generator Set</h3>
<p>With this set of generators the example class can be used to generate simple
where clauses.  This set of generators is the default set of generators, and classes
generated work with all versions of iBATIS.  However, the function of the example class
if somewhat limited.  If at all possible, we recommend using one of the other generator
sets - but those generator sets are dependant on iBATIS 2.2.0 or higher.</p>
<p>This example shows how to generate a simple where clause using the generated
example class:</p>
<pre>
  TestTableExample example = new TestTableExample();
  example.setField1("Fred");
  example.setField1_Indicator(TestTableExample.EXAMPLE_EQUALS);
  example.setField2(22);
  example.setField2_Indicator(TestTableExample.EXAMPLE_GREATER_THAN);
  example.setField3_Indicator(TestTableExample.EXAMPLE_NULL);

  List results = testTableDAO.selectByExample(example);
</pre>
<p>In the above example, the dynamically generated where clause will effectively be:</p>
<pre>
  where field1 = 'Fred' and field2 &gt; 22 and field3 is null
</pre>
<p>Returned records will meet these criteria.</p>
<p>Note that the default combination is <code>AND</code>.  If you want to use <code>OR</code>
instead, the you can call the method <code>setCombineTypeOr(true)</code> on the example class.</p>
<p>The available indicators are:</p>
<ul>
  <li>EXAMPLE_IGNORE - meaning don't include the related column in the where clause (this is the default)</li>
  <li>EXAMPLE_NULL - meaning the related column must be NULL</li>
  <li>EXAMPLE_NOT_NULL - meaning the related column must not be NULL</li>
  <li>EXAMPLE_EQUALS - meaning the related column must be equal to the related value in the example class</li>
  <li>EXAMPLE_NOT_EQUALS - meaning the related column must not be equal to the related value in the example class</li>
  <li>EXAMPLE_GREATER_THAN - meaning the related column must be greater than the related value in the example class</li>
  <li>EXAMPLE_GREATER_THAN_OR_EQUAL - meaning the related column must be greater than or equal to the related value in the example class</li>
  <li>EXAMPLE_LESS_THAN - meaning the related column must be less than the related value in the example class</li>
  <li>EXAMPLE_LESS_THAN_OR_EQUAL - meaning the related column must be less than or equal to the related value in the example class</li>
  <li>EXAMPLE_LIKE - meaning the related column must be "like" the related value in the example class.
    This value is ignored if the column is not a character column.
    Abator does not add the required '%', you must set that value yourself in the value you set in the
    example class.
  </li>
</ul>

<h3>Using the example Class with the Java2 of Java5 Generator Set</h3>
<p>With these generators the example class can be used to generate a virtually
unlimited where clauses.  These generators require that you are using iBATIS version
2.2.0 or higher.</p>
<p>The example classes with these generators use an inner class called <code>AndedCondition</code>
to hold a list of conditions that should be anded together in the where clause.  The
outer class holds a list of <code>AndedCondition</code> objects and all the clauses
from the inner classes will be ored together.  Using different sets of
<code>AndedCondition</code> classes allows you to generate virtually unlimited
types of where clauses.</p>
<p>This example shows how to generate a complex where clause using the generated
example class (using JSE 5.0 parameterized types):</p>
<pre>
  TestTableExample example = new TestTableExample();

  TestTableExample.AndedCondition andedCondition =
      new TestTableExample.AndedCondition();
  andedCondition.addField1EqualCondition(5);
  andedCondition.addField2NullCondition();
  example.addOredCondition(andedCondition);

  andedCondition = new TestTableExample.AndedCondition();
  andedCondition.addField3NotEqualCondition(9);
  andedCondition.addField4NotNullCondition();
  example.addOredCondition(andedCondition);

  andedCondition = new TestTableExample.AndedCondition();
  List&lt;Integer&gt; field5Values = new ArrayList&lt;Integer&gt;();
  field5Values.add(8);
  field5Values.add(11);
  field5Values.add(14);
  field5Values.add(22);
  andedCondition.addField5InCondition(field5Values);
  example.addOredCondition(andedCondition);

  andedCondition = new TestTableExample.AndedCondition();
  andedCondition.addField6BetweenCondition(3, 7);
  example.addOredCondition(andedCondition);

</pre>
<p>In the above example, the dynamically generated where clause will effectively be:</p>
<pre>
  where (field1 = 5 and field2 is null)
     or (field3 &lt;&gt; 9 and field4 is not null)
     or (field5 in (8, 11, 14, 22))
     or (field6 between 3 and 7)
</pre>
<p>Returned records will meet these criteria.</p>
<p>The <code>AndedCondition</code> inner class includes <code>addXXXCondition</code> methods for each field,
and each possible SQL predicate including:</p>
<ul>
  <li>IS NULL - meaning the related column must be NULL</li>
  <li>IS NOT NULL - meaning the related column must not be NULL</li>
  <li>= (equal) - meaning the related column must be equal to the value passed in on the method call</li>
  <li>&lt;&gt; (not equal) - meaning the related column must not be equal to the value passed in on the method call</li>
  <li>&gt; (greater than) - meaning the related column must be greater than the value passed in on the method call</li>
  <li>&gt;= (greater than or equal) - meaning the related column must be greater than or equal to the value passed in on the method call</li>
  <li>&lt; (less than) - meaning the related column must be less than the value passed in on the method call</li>
  <li>&lt;= (less than or equal) - meaning the related column must be less than or equal to the value passed in on the method call</li>
  <li>LIKE - meaning the related column must be "like" the value passed in on the method call.
    Abator does not add the required '%', you must set that value yourself in the value you pass
    in on the method call.
  </li>
  <li>NOT LIKE - meaning the related column must be "not like" the value passed in on the method call.
    Abator does not add the required '%', you must set that value yourself in the value you pass
    in on the method call.
  </li>
  <li>BETWEEN - meaning the related column must be "between" the two values passed in on
      the method call.</li>
  <li>NOT BETWEEN - meaning the related column must be "not between" the two values passed in on
      the method call.</li>
  <li>IN - meaning the related column must be one of the list of values passed in on
      the method call.</li>
  <li>NOT IN - meaning the related column must not be one of the list of values passed in on
      the method call.</li>
</ul>


</body>
</html>
