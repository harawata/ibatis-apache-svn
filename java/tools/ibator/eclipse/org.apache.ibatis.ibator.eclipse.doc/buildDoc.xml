<project default="refresh">
  <path id="org.abache.ibatis.ibator.doc.javadocclasspath">
  	<pathelement location="../org.apache.ibatis.ibator.eclipse.ui/bin"/>
  	<pathelement location="../org.apache.ibatis.ibator.core/ibator.jar"/>
  </path>

  <target name="clean">
  	<delete dir="html" />
  </target>

  <target name="javadoc" depends="clean">
    <javadoc 
      access="protected" 
      author="true" 
      destdir="html/javadoc" 
      doctitle="Apache iBATIS Ibator API Specifications" 
      nodeprecated="false" 
      nodeprecatedlist="false" 
      noindex="false" 
      nonavbar="false" 
      notree="false"
      source="1.5"
      splitindex="true" 
      use="true" 
      version="true"
      classpathref="org.abache.ibatis.ibator.doc.javadocclasspath">
    	<packageset dir="../../core/src" />
    	<packageset dir="../org.apache.ibatis.ibator.eclipse.core/src" />
    	<packageset dir="../org.apache.ibatis.ibator.eclipse.ui/src" />
    	<packageset dir="../org.apache.ibatis.ibator.eclipse.ui/antsrc" />
    </javadoc>
  	
  	<copy todir="html/ibatordoc">
  	  <fileset dir="../../core/htmldoc">
  	    <exclude name="ibator.css"/>
  	  </fileset>
   	  <fileset dir="html-src/ibatordoc">
   	    <include name="ibator.css"/>
   	  </fileset>
  	</copy>

  	<copy todir="html/eclipseui">
  	  <fileset dir="html-src/eclipseui" />
  	</copy>
</target>
	
  <target name="refresh" depends="javadoc" if="eclipse.running">
  	<echo message="Refreshing the Eclipse Project..."/>
  	<eclipse.refreshLocal resource="org.apache.ibatis.ibator.eclipse.doc"/>
  </target>
	
</project>
