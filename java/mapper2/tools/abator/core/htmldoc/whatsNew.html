<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>What's New in Abator</title>
  <link type="text/css" rel="stylesheet" href="abator.css"/>
</head>
<body>
<p align="right">
  <font size="-2">
    <a href="index.html" target="_top">Frames</a>
    <a href="whatsNew.html" target="_top">No Frames</a>
  </font>
</p>
<h1>What's New in Abator</h1>
<h2>Version 1.1.0</h2>
<h3>Announcements</h3>
<ul>
  <li>The next release of Abator will require JRE 5.0 or higher.</li>
  <li>Java2 is now the default generator set.  This will cause different code to be
      generated if you have not specified a generator set previously.  To remedy this,
      set the generator set to "Legacy".</li>
</ul>

<h3>New Generated Methods</h3>
<p>Abator will generate these new methods:</p>
<dl>
  <dt><b>countByExample</b></dt>
  <dd>This method will return an integer representing the number of rows in a table
      that match the given criteria.</dd>
  <dt><b>updateByExample</b></dt>
  <dd>This method will update all rows in a table that match a given criteria.  This method is
      available in the Java2 and Java5 generator sets only.  There is also a "selective" version
      of the method that only updates certain columns of a table (the selective version of this
      method is probably the more useful version to use in most situations).</dd>
</dl>

<h3>Bugs Fixed</h3>
<ul>
  <li>Fixed bug for corner case where a criteria class is created, but no criteria
      are set.</li>
  <li>Fixed a bug that caused the JavaModelGenerator's "trimStrings" property to fail</li>
  <li>Fixed the XML file merger so that internal entities are preserved</li>
  <li>Fixed the XML configuration parser so that external entities are handled properly</li>
  <li>Fixed bug - incorrect datatype mapping for JDBC BIT datatype</li>
  <li>Fixed bug where Abator generated incorrect properties for certain database columns
      (for example, if the column name is I_NAME)</li>
</ul>

<h3>Miscellaneous Changes</h3>
<ul>
  <li>Added the ability to specify properties to ignore qualifiers and change runtime
      table names in the generated SQL for a table.  Primary use cases for this
      support include:
      <ul>
        <li>Generating objects for a table that has a public synonym or alias</li>
        <li>Generating objects for a table that exists in many schemas, and the
            schema will be selected at runtime</li>
      </ul>
    See the <a href="configreference/table.html">&lt;table&gt;</a>
    reference page for more information, or the
    <a href="usage/oracle.html">Oracle</a> reference page for an example.</li>
  <li>Added support for delimiting SQL identifiers for the use cases where identifiers
      contain spaces or SQL reserved words.
      See the <a href="configreference/table.html">&lt;table&gt;</a>,
      <a href="configreference/abatorContext.html">&lt;abatorContext&gt;</a>,
      and <a href="configreference/columnOverride.html">&lt;columnOverride&gt;</a>
      reference pages for more information.</li>
  <li>Added SYBASE dialect for generated keys.
      See the <a href="configreference/generatedKey.html">&lt;generatedKey&gt;</a>
      reference page for more information.</li>
  <li>Added DB2_MF (DB2 on Main Frames) dialect for generated keys.
      See the <a href="configreference/generatedKey.html">&lt;generatedKey&gt;</a>
      reference page for more information.</li>
  <li>Abator will now automatically escape identifiers that contain the $ or # characters
      as these characters have special meaning in iBATIS configuration files.</li>
  <li>Added a <code>clear</code> method to the generated example classes (in the Java2 and Java5
      generator sets only).  This allows reuse of these classes.</li>
  <li>Added the ability to specify that result maps should use column indexes rather
      than column names in the result mappings.  Primary use cases for this
      support include:
      <ul>
        <li>When tables have columns whose name is only differentiated by
            case (e.g. "first name" and "First Name")</li>
        <li>When you want to make the selects as fast as possible (there is a slight
            performance benefit when using column indexes)</li>
      </ul>
    See the <a href="configreference/table.html">&lt;table&gt;</a>
    reference page for more information.</li>
  <li>Made the generated Example and Criteria classes extendable.  Added some documentation
      about how to extend these classes.  See the
      <a href="generatedobjects/extendingExampleClass.html">Extending the Example Classes</a>
      reference page for more information.</li>
  <li>Made the legacy DAOs extendable.</li>
  <li>Added the ability to provide a renaming rule for columns.  This is for the
      use case where columns have a common prefix that should be removed before
      calculating the property name.  See the
      <a href="configreference/columnRenamingRule.html">&lt;columnRenamingRule&gt;</a>
      reference page for more information.</li>
  <li>Added support for persisting a configuration to XML - this to enable
      a graphical editor in the future.</li>
  <li>Add afterXXXGenerationHook() methods in all generators to enable adding
      extra Java code or XML elements to any generated object.  This will make
      it easier to create customized generators.</li>
  <li>API change to allow generating with selected contexts rather than
      the entire config file.</li>
  <li>API change to allow generating with selected tables rather than
    the entire config file.</li>
  <li>Exposed new support for selecting tables and/or contexts to the
      command line and the Ant task - this has added an advanced syntax to the command
      line for Abator.  See the
      <a href="running.html">Running Abator</a> reference page for more information.</li>
  <li><code>rootClass</code> and <code>rootInterface</code> may now be specified for each table.
      See the <a href="configreference/table.html">&lt;table&gt;</a>
      reference page for more information.</li>
  <li>If a <code>rootClass</code> is specified for any table, Abator will now check in the
      rootClass to see if a generated property already exists in the root class.  If it does,
      Abator will not generate the property.  The &lt;javaModelGenerator&gt; element now
      accepts a property to specify the classpath of the <code>rootClass</code>.  See the
      <a href="configreference/javaModelGenerator.html">&lt;javaModelGenerator&gt;</a>
      reference page for more information.  Thanks to Ashok Madhavan for the beginnings
      of this code.</li>
  <li>Allowed specifying a type (pre or post) for the generated key element.  See the
      <a href="configreference/generatedKey.html">&lt;generatedKey&gt;</a>
      reference page for more information.</li>
  <li>Added a comment generator interface to enable generation of custom comments.
      See the <a href="configreference/commentGenerator.html">&lt;commentGenerator&gt;</a>
      reference page for more information.</li>
</ul>

<h2>Version 1.0.0</h2>
<h3>Generator Sets</h3>
<p>A generator set is a set of
code generators (SQL Map Generator, Java Model Generator, DAO Generator, and Java Type Resolver).
Abator now ships three different generator sets.  The generated code from these three
generator sets is slightly different, and the use of the generated objects is slightly
different too.  The concepts are exactly the same.  With the newer generator sets, the
"by example" methods have been vastly improved.  It is now possible to generate
<b>virtually any</b> WHERE clause (including IN and BETWEEN predicates).  Lastly, the new
generator sets generate much more concise code - the DAOs and SQL Maps are of
normal size, and there are no extraneous methods.  The example class in the new generator
sets encapsulates all the function needed to generate dynamic queries.</p>
<p>The three generator sets shipped with Abator are as follows:</p>
<dl>
  <dt>Legacy</dt>
  <dd>This generator set generates code that is the same as previous versions of
      Abator.  There are some limitations with this generator set and we strongly
      recommend that you choose one of the other sets.  However, this set remains
      the default for now.  <b>This generator set will likely be removed in a future
      version of Abator.</b></dd>
  <dt>Java2</dt>
  <dd>This generator set generates code that is compatible with iBATIS versions 2.2.0 and
      higher.  With this generator set the "by example" methods are much more powerful
      than in the legacy set.  It is now possible to generate
      virtually unlimited SQL WHERE clauses with Abator generated code (including "IN"
      and "BETWEEN" clauses).  <b>This generator set will likely become the default set in a
      future version of Abator.</b></dd>
  <dt>Java5</dt>
  <dd>This generator set has the same capabilities as the Java2 generator set with the
      added feature of generating code that is JSE 5.0 compliant using parameterized
      types and annotations.</dd>
</dl>
<p><b>Important:</b> code generated with the Java2 or Java5 generator sets is not 100%
compatible with code generated with the Legacy set - especially in the use of the
"by example" methods.  Also note that the "by example" methods in these generator sets rely
on iBATIS dynamic SQL support that is missing in iBATIS versions prior to version 2.2.0.</p>
<p>A generator set is selected with the <code>generatorSet</code> attribute of the
<code>&lt;abatorContext&gt;</code> element.  See the
<a href="configreference/abatorContext.html">&lt;abatorContext&gt;</a> reference page for
more information.</p>

<p>Use of the example classes is different with the different generator sets.  See the
<a href="generatedobjects/exampleClassUsage.html">Example Class Usage</a> page for more
information.</p>

<h3>Model Types</h3>
<p>A model type is used to give you more control over the types of domain objects
generated by Abator.  Abator now supports three different types of domain models
as follows:</p>
<dl>
  <dt>conditional</dt>
  <dd>This model is similar to the hierarchical model except that a separate
    class will not be generated if that separate class would only contain
    one field.  So if a table has only one primary key field, that field
    will be merged into the base record class.  This model type is the default.
    <b>Note that this model type may generate classes that are not 100%
    with classes generated in previous versions of Abator.</b></dd>
  <dt>flat</dt>
  <dd>This model generates only one domain class for any table.  The class
     will hold all fields in the table.</dd>
  <dt>hierarchical</dt>
  <dd>This model is the same as the model shipped with the initial versions
      of Abator.  This model will generate a primary key class if the table has
      a primary key, another class that holds any BLOB columns in the table, and
      another class that holds the remaining fields.  There is an appropriate
      inheritance relationship between the classes.</dd>
</dl>

<p>Model types can be specified as a default for an entire context, and you may
override the default for each table in a context.  See the
<a href="configreference/abatorContext.html">&lt;abatorContext&gt;</a> reference page for
more information about setting the context default..
See the <a href="configreference/table.html">&lt;table&gt;</a>
reference page for more information about setting a model type for specific tables.
</p>
<p><b>Important:</b> the default value is conditional - this is a non-backward compatible
change from previous versions of Abator.</p>

<h3>updateByPrimaryKeySelective</h3>
<p>This is a new mapped SQL statement, and new DAO method, that will only
update columns whose corresponding properties in the parameter class are non-null.
This can be used to update certain
columns in a record without needing to update the entire record.
</p>
<p><b>Important:</b> any column that is mapped to a primitive type
will always be updated.</p>

<h3>Miscellaneous Changes</h3>
<ul>
  <li>Added the ability to specify a table alias.  This aids in reuse of generated
    SQL map elements.  See the <a href="configreference/table.html">&lt;table&gt;</a>
    reference page for more information.</li>
  <li>Fixed the XML file merger so that extraneous blank lines at the end of the
      file are removed.</li>
  <li>Added the ability to specify a type handler for table columns.
    See the <a href="configreference/columnOverride.html">&lt;columnOverride&gt;</a>
    reference page for more information.</li>
  <li>Added the ability to specify the visibility of the DAO "by example" methods.
    This allows you to make the methods private for internal use only.
    See the <a href="configreference/daoGenerator.html">&lt;daoGenerator&gt;</a>
    reference page for more information.</li>
  <li>Added the ability to override the naming convention for DAO method names.
    See the <a href="configreference/daoGenerator.html">&lt;daoGenerator&gt;</a>
    reference page for more information.</li>
  <li>Added the ability to specify wildcards for schema or tableName in a table
      configuration.  This will allow generation of many tables with a simple
      XML configuration.
    See the <a href="configreference/table.html">&lt;table&gt;</a>
    reference page for more information.</li>
  <li>Added the ability to escape wildcard characters in schema or table names
      if required by the driver.  See the <a href="configreference/table.html">&lt;table&gt;</a>
      reference page for more information.</li>
  <li>Added the ability to suppress JSE 5.0 type warning messages for non-parameterized
      types if you are using the Legacy or Java2 generator sets in a JSE 5.0 environment.
    See the <a href="configreference/abatorContext.html">&lt;abatorContext&gt;</a>
    reference page for more information.
  </li>
  <li>Added the ability to specify an external properties file for passing
    parameters into an Abator configuration file (like the iBATIS properties
    file).  See the <a href="configreference/properties.html">&lt;properties&gt;</a>
    reference page for more information.
  </li>
  <li>The Ant task now supports a "verbose" attribute.  See the
    <a href="running.html">Running Abator</a> page for more information.
  </li>
  <li>The Ant task now supports a nested property set for passing values into
      an Abator configuration file.  See the
     <a href="running.html">Running Abator</a> page for more information.
  </li>
</ul>
</body>
</html>